<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Site d'AvaN0x</title>
    <link rel="stylesheet" media="screen and (min-width:721px)" href="style.css" />
    <link rel="stylesheet" media="screen and (max-width:720px)" href="mobile.css" />
    <meta name="viewport"  content="width=max-device-width, initial-scale=1" />
    <script src="https://code.jquery.com/jquery-3.4.1.js"></script>
    <script src="https://kit.fontawesome.com/0383df481c.js" crossorigin="anonymous"></script>
    <link href="https://fonts.googleapis.com/css?family=Roboto&display=swap" rel="stylesheet">
    <link rel="icon" type="image/png" href="https://avatars3.githubusercontent.com/u/27494805?s=460&v=4" />
  </head>
  <body>
    <header>
      <script>
        $(function () {
          $("header").load("menu.html");
        });
      </script>
    </header>

    <div class="cover">
      <div>
        <h1>AvaN0x / Clément RICATTE</h1>
        <p><a href="#section"><i class="fas fa-angle-double-down"></i></a></p>
      </div>
    </div>
    <section id="section">
      <h1>AvaN0x / Clément RICATTE</h1>
      <h2>Présentation</h2>
      <p class="text-indent">
        Je m'appelle Clément, j'ai <span class="age" title="Age généré automatiquement" style="color: #fff1b9"></span> ans, je suis actuellement en première année de 
        <a href="http://iut-metz.univ-lorraine.fr/dut-informatique">DUT Info</a> à l'<a href="http://iut-metz.univ-lorraine.fr/">IUT de Metz</a>.
      </p>
      <h2>Bienvenue sur mon site personnel</h2>
      <p class="text-indent">
        Le site a été réalisé en tant que hobby lors de mes études, son design n'est pas fixe, il peut totalement changer du jour au lendemain, en fonction de mes gouts /
        j'ai appris de nouvelles astuces que je veux mettre en pratique.
      </p>
      <h2>Navigation</h2>
      <p class="text-indent">
        Le <a class="menu_toggle" style="cursor: pointer; color: #fff1b9;">menu</a> vous permet de visiter toutes les pages que j'ai réalisées, et autres.
      </p>
      <h1>Temps restant à attendre</h1>
      <div id="holidayTimer">
        <p style="text-align:center;"></p>
          <div class="days">
            <span>00</span>
            <span>jours</span>
          </div>
          <div class="hours">
            <span>00</span>
            <span>heures</span>
          </div>
          <div class="minutes">
            <span>00</span>
            <span>minutes</span>
          </div>
          <div class="seconds">
            <span>00</span>
            <span>secondes</span>
          </div>
      </div>
    </section>
    <script>
      var goalDate;

      function getGoalDate() {
        var holidayDate = {
            "date":[
              {"type": 1, "date": new Date(2019, 12-1, 20, 17, 30).getTime() },
              {"type": 0, "date": new Date(2020, 1-1, 6, 8, 0).getTime() },
              {"type": 1, "date": new Date(2020, 2-1, 14, 17, 30).getTime() },
              {"type": 0, "date": new Date(2020, 2-1, 24, 8, 0).getTime() },
              {"type": 1, "date": new Date(2020, 4-1, 11, 17, 30).getTime() },
              {"type": 0, "date": new Date(2020, 4-1, 27, 8, 0).getTime() },
              {"type": 1, "date": new Date(2020, 6-1, 26, 17, 30).getTime() }
            ]
          }

          for (var i = 0; i < Object.keys(holidayDate.date).length; i++)
            if (new Date().getTime() < holidayDate.date[i].date) {
              goalDate = holidayDate.date[i].date;
              console.log("Date countdown " + (holidayDate.date[i].date - new Date().getTime()) + ", type : " + holidayDate.date[i].type);
              console.log(Object.keys(holidayDate.date).length + " dates disponibles.");
              console.log(new Date(holidayDate.date[Object.keys(holidayDate.date).length - 1].date).getDate() + "/" + (new Date(holidayDate.date[Object.keys(holidayDate.date).length - 1].date).getMonth() + 1) + "/" + new Date(holidayDate.date[Object.keys(holidayDate.date).length - 1].date).getFullYear());              
              break;
            }

          if (holidayDate.date[i].type)
            $("#holidayTimer > p").text("Avant les prochaines vacances :D");
          else
            $("#holidayTimer > p").text("Avant la fin des vacances :(");
      }

      function holidayTimer() {
        var time = Math.floor((goalDate - new Date().getTime())/1000);
        var d = Math.floor(time / 86400);
        var h = Math.floor((time % 86400) / 3600);
        var m = Math.floor(( (time % 86400) % 3600) / 60);
        var s = Math.floor(( (time % 86400) % 3600) % 60);
        
        if (time >= 0) {
          $('#holidayTimer .days span:eq(0)').html((d < 10) ? "0" + d : d);
          $('#holidayTimer .hours span:eq(0)').html((h < 10) ? "0" + h : h);
          $('#holidayTimer .minutes span:eq(0)').html((m < 10) ? "0" + m : m);
          $('#holidayTimer .seconds span:eq(0)').html((s < 10) ? "0" + s : s);
        }
        if (time == -1)
          getGoalDate()

      }

      $(document).ready(function(){
          $("span.age").text(new Date(new Date() - new Date("2001-10-09")).getFullYear() - 1970);

          getGoalDate();
          holidayTimer();
          setInterval(holidayTimer, 1000);
      })
    </script>
  </body>
  </html>
